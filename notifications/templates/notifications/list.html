{% extends "base.html" %}
{% block content %}
<div class="container mt-4">
  <h3>Your notifications</h3>
  <ul class="list-group">
    {% for n in notifications %}
      <li class="list-group-item d-flex justify-content-between align-items-start {% if not n.is_read %}list-group-item-warning{% endif %}">
        <div>
          <div><strong>{{ n.title }}</strong></div>
          <div class="small text-muted">{{ n.created_at|date:"M d, Y H:i" }}</div>
          <div>{{ n.message }}</div>
          {% if n.url %}
            <a href="{{ n.url }}">Open</a>
          {% endif %}
        </div>
        <div>
          {% if not n.is_read %}
            <button class="btn btn-sm btn-primary" onclick="markRead({ id })">Mark read</button>
          {% endif %}
        </div>
      </li>
    {% empty %}
      <li class="list-group-item">No notifications</li>
    {% endfor %}
  </ul>
</div>
{% endblock %}
